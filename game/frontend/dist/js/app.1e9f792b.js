(function(e){function t(t){for(var n,a,i=t[0],l=t[1],s=t[2],f=0,p=[];f<i.length;f++)a=i[f],Object.prototype.hasOwnProperty.call(o,a)&&o[a]&&p.push(o[a][0]),o[a]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(e[n]=l[n]);u&&u(t);while(p.length)p.shift()();return c.push.apply(c,s||[]),r()}function r(){for(var e,t=0;t<c.length;t++){for(var r=c[t],n=!0,i=1;i<r.length;i++){var l=r[i];0!==o[l]&&(n=!1)}n&&(c.splice(t--,1),e=a(a.s=r[0]))}return e}var n={},o={app:0},c=[];function a(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,a),r.l=!0,r.exports}a.m=e,a.c=n,a.d=function(e,t,r){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(a.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)a.d(r,n,function(t){return e[t]}.bind(null,n));return r},a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],l=i.push.bind(i);i.push=t,i=i.slice();for(var s=0;s<i.length;s++)t(i[s]);var u=l;c.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("56d7")},"56d7":function(e,t,r){"use strict";r.r(t);r("e260"),r("e6cf"),r("cca6"),r("a79d");var n=r("7a23"),o={class:"container",style:{height:"100vh"}},c={class:"row align-items-center justify-content-center",style:{height:"100vh"}};function a(e,t){var r=Object(n["s"])("router-view");return Object(n["o"])(),Object(n["d"])("div",o,[Object(n["f"])("div",c,[Object(n["f"])(r)])])}const i={};i.render=a;var l=i,s=r("5530"),u=r("6c02"),f=r("5502"),p=Object(f["a"])({state:{login:!1,user:{}},getters:{isLogin:function(e){return e.login},User:function(e){return e.user}},mutations:{LOGIN:function(e,t){e.login=!0,e.user=t}},actions:{}});function b(e){e.to;var t=e.next,r=e.store;return r.getters.isLogin?t():t({name:"login"})}function d(e,t,r){var n=t[r];return n?function(){var o=d(e,t,r+1);n(Object(s["a"])(Object(s["a"])({},e),{},{next:o}))}:e.next}var O=d,j={class:"col-5"},v=Object(n["f"])("svg",{xmlns:"http://www.w3.org/2000/svg",style:{display:"none"}},[Object(n["f"])("symbol",{id:"check-circle-fill",fill:"currentColor",viewBox:"0 0 16 16"},[Object(n["f"])("path",{d:"M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zm-3.97-3.03a.75.75 0 0 0-1.08.022L7.477 9.417 5.384 7.323a.75.75 0 0 0-1.06 1.06L6.97 11.03a.75.75 0 0 0 1.079-.02l3.992-4.99a.75.75 0 0 0-.01-1.05z"})]),Object(n["f"])("symbol",{id:"info-fill",fill:"currentColor",viewBox:"0 0 16 16"},[Object(n["f"])("path",{d:"M8 16A8 8 0 1 0 8 0a8 8 0 0 0 0 16zm.93-9.412-1 4.705c-.07.34.029.533.304.533.194 0 .487-.07.686-.246l-.088.416c-.287.346-.92.598-1.465.598-.703 0-1.002-.422-.808-1.319l.738-3.468c.064-.293.006-.399-.287-.47l-.451-.081.082-.381 2.29-.287zM8 5.5a1 1 0 1 1 0-2 1 1 0 0 1 0 2z"})]),Object(n["f"])("symbol",{id:"exclamation-triangle-fill",fill:"currentColor",viewBox:"0 0 16 16"},[Object(n["f"])("path",{d:"M8.982 1.566a1.13 1.13 0 0 0-1.96 0L.165 13.233c-.457.778.091 1.767.98 1.767h13.713c.889 0 1.438-.99.98-1.767L8.982 1.566zM8 5c.535 0 .954.462.9.995l-.35 3.507a.552.552 0 0 1-1.1 0L7.1 5.995A.905.905 0 0 1 8 5zm.002 6a1 1 0 1 1 0 2 1 1 0 0 1 0-2z"})])],-1),h={class:"alert alert-danger d-flex align-items-center",role:"alert"},m=Object(n["f"])("svg",{class:"bi flex-shrink-0 me-2",width:"24",height:"24",role:"img","aria-label":"Danger:"},[Object(n["f"])("use",{"xlink:href":"#exclamation-triangle-fill"})],-1),y={class:"mb-3"},g=Object(n["f"])("label",{for:"login",class:"form-label"},"Login",-1),w={class:"mb-3"},z=Object(n["f"])("label",{for:"exampleInputPassword1",class:"form-label"},"Password",-1),x=Object(n["f"])("button",{type:"submit",class:"btn btn-primary"},"Submit",-1);function k(e,t,r,o,c,a){return Object(n["o"])(),Object(n["d"])("div",j,[c.error?(Object(n["o"])(),Object(n["d"])(n["a"],{key:0},[v,Object(n["f"])("div",h,[m,Object(n["f"])("div",null,Object(n["u"])(c.error),1)])],64)):Object(n["e"])("",!0),Object(n["f"])("form",{onSubmit:t[3]||(t[3]=Object(n["z"])((function(e){return a.sign()}),["prevent"]))},[Object(n["f"])("div",y,[g,Object(n["y"])(Object(n["f"])("input",{type:"text","onUpdate:modelValue":t[1]||(t[1]=function(e){return c.login=e}),class:"form-control",id:"login"},null,512),[[n["w"],c.login]])]),Object(n["f"])("div",w,[z,Object(n["y"])(Object(n["f"])("input",{type:"password","onUpdate:modelValue":t[2]||(t[2]=function(e){return c.password=e}),class:"form-control",id:"exampleInputPassword1"},null,512),[[n["w"],c.password]])]),x],32)])}var P=r("bc3a"),T=r.n(P);T.a.defaults.headers.common["Content-Type"]="application/json";var M=T.a,L={name:"Login",data:function(){return{login:"",password:"",error:""}},methods:{sign:function(){var e=this;this.error="",M.post("http://localhost:80/login",{login:this.login,password:this.password}).then((function(t){var r=t.data;if("success"==r.type)return e.$store.commit("LOGIN",r.user),void e.$router.push("game");e.error=r.message})).catch((function(e){return console.error(e)}))}}};L.render=k;var _=L,C={class:"col"},E={class:"row align-items-center justify-content-center flex-column"},S={key:0,class:"col-auto"},I={class:"alert alert-success",role:"alert"},N={key:1,class:"col-auto"},Y={class:"alert alert-danger",role:"alert"},U={key:2,class:"col-auto"},$={class:"col-auto my-1"},A={key:0,class:"col-auto my-1"},B={class:"col-auto my-1"};function G(e,t,r,o,c,a){return Object(n["o"])(),Object(n["d"])("div",C,[Object(n["f"])("div",E,[null!==c.prize.type?(Object(n["o"])(),Object(n["d"])("div",S,[Object(n["f"])("div",I,Object(n["u"])(a.displayType)+": "+Object(n["u"])(c.prize.value),1)])):Object(n["e"])("",!0),c.error?(Object(n["o"])(),Object(n["d"])("div",N,[Object(n["f"])("div",Y,Object(n["u"])(c.error),1)])):Object(n["e"])("",!0),null===c.prize.type?(Object(n["o"])(),Object(n["d"])("div",U,[Object(n["f"])("button",{type:"button",class:"btn btn-primary btn-lg",onClick:t[1]||(t[1]=function(e){return a.game()})},Object(n["u"])(c.step),1)])):(Object(n["o"])(),Object(n["d"])(n["a"],{key:3},[Object(n["f"])("div",$,[Object(n["f"])("button",{type:"button",class:"btn btn-primary btn-lg",onClick:t[2]||(t[2]=function(e){return a.take()})},"Забрать")]),c.prize.type===c.prizesType.TYPE_MONEY?(Object(n["o"])(),Object(n["d"])("div",A,[Object(n["f"])("button",{type:"button",class:"btn btn-primary btn-lg",onClick:t[3]||(t[3]=function(e){return a.convert()})},"Конвектировать в балы")])):Object(n["e"])("",!0),Object(n["f"])("div",B,[Object(n["f"])("button",{type:"button",class:"btn btn-primary btn-lg",onClick:t[4]||(t[4]=function(e){return a.resufe()})},"Отказатся")])],64))])])}var J={TYPE_MONEY:1,TYPE_POINT:2,TYPE_THING:3},V={data:function(){return{prize:{id:null,value:null,type:null},prizesType:J,error:"",step:"Играть"}},computed:{displayType:function(){var e={1:"Money",2:"Point",3:"Thind"};return e[this.prize.type]}},methods:{game:function(){var e=this;M.post("http://localhost:80/game",{id:this.$store.getters.User.id}).then((function(t){var r=t.data;"success"!=r.type?e.error=r.message:e.prize=r.prize})).catch((function(e){return console.error(e)}))},take:function(){var e=this;M.post("http://localhost:80/take-prize",Object(s["a"])({id:this.$store.getters.User.id},this.prize)).then((function(t){var r=t.data;if("success"==r.type)return e.prize={id:null,value:null,type:null},void(e.step="Еще");e.error=r.message})).catch((function(e){return console.error(e)}))},convert:function(){var e=this;this.error="",M.post("http://localhost:80/convert",Object(s["a"])({},this.prize)).then((function(t){var r=t.data;if("success"==r.type)return e.prize={id:null,value:null,type:null},void(e.step="Еще");e.error=r.message})).catch((function(e){return console.error(e)}))},resufe:function(){var e=this;this.error="",M.post("http://localhost:80/refuse",Object(s["a"])({},this.prize)).then((function(t){var r=t.data;if("success"==r.type)return e.prize={id:null,value:null,type:null},void(e.step="Еще");e.error=r.message})).catch((function(e){return console.error(e)}))}}};V.render=G;var D=V,H=[{path:"/",name:"login",component:_},{path:"/game",name:"game",component:D,meta:{middleware:[b]}}],q=Object(u["a"])({history:Object(u["b"])("/"),routes:H});q.beforeEach((function(e,t,r){if(!e.meta.middleware)return r();var n=e.meta.middleware,o={to:e,from:t,next:r,store:p};return n[0](Object(s["a"])(Object(s["a"])({},o),{},{next:O(o,n,1)}))}));var F=q;Object(n["c"])(l).use(p).use(F).mount("#app")}});
//# sourceMappingURL=app.1e9f792b.js.map